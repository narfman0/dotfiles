#!/bin/bash
export DOTFILES_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"
export CLICOLOR=1
export EDITOR=vim
export LSCOLORS=ExFxBxDxCxegedabagacad
export NSS_SSL_CBC_RANDOM_IV=0
export GOPATH=$HOME/go
export PATH=$HOME/.local/bin:$HOME/bin:node_modules/.bin:$GOPATH/bin:$PATH
export PS1="[\u@\h \w]$ "

for aliasFile in $DOTFILES_DIR/bash/aliases/*; do
    . $aliasFile
done

newsbeuterpurge() {
    sqlite3 -line ~/.newsbeuter/cache.db "DELETE FROM rss_item WHERE unread = 1 AND pubDate < ( SELECT strftime('%s','now') - (10*86400));"
}
osxaslclean() {
    sudo mv /private/var/log/asl/*.asl ~/.Trash
}
function cd(){
    builtin cd "${*}"
    if [ -e ".env" ]; then
        . .env
    fi
}
# source all bash completions
for cfile in ~/.*completion.bash; do
    . $cfile
done

complete -W "\`grep -oE '^[a-zA-Z0-9_.-]+:([^=]|$)' Makefile | sed 's/[^a-zA-Z0-9_.-]*$//'\`" make
