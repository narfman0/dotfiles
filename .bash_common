#!/bin/bash
export DOTFILES_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"
export DOTFILES_ROOT=$DOTFILES_DIR
export CLICOLOR=1
export EDITOR=vim
export LSCOLORS=ExFxBxDxCxegedabagacad
export NSS_SSL_CBC_RANDOM_IV=0
export PS1="[\u@\h \w]$ "
export GOPATH=$HOME/go
export NVM_DIR="$HOME/.nvm"
export PATH=$HOME/.local/bin:$DOTFILES_DIR/bin:$HOME/bin:node_modules/.bin:$GOPATH/bin:$PATH
export PATH="$HOME/.pyenv/bin:$PATH"
export PATH="$PATH:$HOME/.rvm/bin"
export BASH_SILENCE_DEPRECATION_WARNING=1

[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm" # Load RVM into a shell session *as a function*

if [ -x "$(command -v pyenv)" ]; then
    eval "$(pyenv init -)"
fi

if [ -f $HOME/.cargo/env ]; then
    source $HOME/.cargo/env
fi

newsbeuterpurge() {
    sqlite3 -line ~/.newsbeuter/cache.db "DELETE FROM rss_item WHERE unread = 1 AND pubDate < ( SELECT strftime('%s','now') - (10*86400));"
}
osxaslclean() {
    sudo mv /private/var/log/asl/*.asl ~/.Trash
}
function cd(){
    builtin cd "${*}"
    if [ -e ".env" ]; then
        . .env
    fi
}

for aliasFile in $DOTFILES_DIR/bash/aliases/*; do
    . $aliasFile
done
for cfile in $DOTFILES_DIR/bash/completion/*; do
    . $cfile
done
